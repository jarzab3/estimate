{% extends 'layouts/base.html' %}
{% load static %}

{% block title %} APP {% endblock title %}

<!-- Specific CSS goes HERE -->
{% block stylesheets %}
    <link href="{% static 'assets/css/index.css' %}" rel="stylesheet"/>

{% endblock stylesheets %}

{% block content %}

    <div class="container">
        {% if data %}

            <div id="code-session">{{ data }}</div>

            <button id="try-it" type="button" class="main_button" data-toggle="modal" data-target="#enterRoom1">TRY
            </button>

        {% endif %}

        <br>
        <br>
        <br>

        What chat room would you like to enter?<br>
        <input id="room-name-input" type="text" size="100"><br>
        <input id="room-name-submit" type="button" value="Enter">

    </div>

{% endblock content %}

<!-- Specific JS goes HERE -->
{% block javascripts %}
    <script src="{% static 'assets/js/core/jquery.min.js' %}"></script>
    <script src="{% static 'assets/js/session.js' %}"></script>

    <script>
        document.querySelector('#room-name-input').focus();
        document.querySelector('#room-name-input').onkeyup = function (e) {
            if (e.keyCode === 13) {  // enter, return
                document.querySelector('#room-name-submit').click();
            }
        };

        document.querySelector('#room-name-submit').onclick = function (e) {
            var roomName = document.querySelector('#room-name-input').value;
            window.location.pathname = '/chat/' + roomName + '/';
        };
    </script>

{% endblock javascripts %}
